<!DOCTYPE html>
<html>
    <head>
        <title>たすくまにゅある</title>
        <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="stylesheet" href="help.css" type="text/css">
            </head>
    
    <body>
        
        <h1>その他</h1>
        <ul class="help">
            <li><a href="#url">URLスキーム</a></li>
            <li><a href="#notification">通知</a></li>
            <li><a href="#section">セクション設定の変更</a></li>
        </ul>
        
        <h2 id="url">URLスキーム</h2>
        <h3>たすくまを開く</h3>
        taskuma://</br>
        これが基本のスキームです。</br>
        その他に、URLスキームを利用して、タスクの
        <ul class="help">
            <li>追加</li>
            <li>開始(+終了/中断)</li>
            <li>終了/中断</li>
            <li>バックアップ画面への遷移</li>
        </ul>
        が可能です。</br>
        追加・開始・終了/中断・バックアップ画面への遷移はそれぞれ他のアプリから呼び出し、コールバックすることも可能です。</br>
        
        <h3>追加</h3>
        <p class = "breakAll">
        taskuma://add?taskname=xxx&amp;estimated=xxx&amp;project=xxx</p>
        taskname, estimated, projectは省略可能です。</br>
        指定したプロジェクトが存在しない場合には、新規作成されます。</br>
        
        <h3>開始</h3>
        <p class = "breakAll">
        taskuma://start?new=yes&amp;end=yes&amp;taskname=xxx&amp;estimated=xxx&amp;project=xxx</p>
        開始するタスクは、1番上のタスクか、新規タスク(new=yes)を指定できます。</br>
        終了するタスクは、実行中のタスクのうち、一番最初に開始したものです。終了(end=yes)か、中断(suspend=yes)を指定できます。(両方指定した場合には、中断)</br>
        新規タスク開始(new=yes)の場合には、taskname,estimated,projectを指定することができます。</br>
        
        <h3>終了/中断</h3>
        <p class = "breakAll">
        taskuma://end?suspend=yes</p>
        終了するタスクは、実行中のタスクのうち、一番最初に開始したものです。終了(taskuma://end?)か、中断(taskuma://end?suspend=yes)を指定できます。</br>
        
        <h3>Dropboxバックアップ画面への遷移</h3>
        <p class = "breakAll">
        taskuma://backup?</p>
        
        <h3>追加(コールバック)</h3>
        <p class = "breakAll">
        taskuma://x-callback-url/add?x-source=XXXX&amp;x-success=XXXX&amp;taskname=xxx&amp;estimated=xxx&amp;project=xxx</p>
        x-sourceは、コールバックするアプリの名称等を指定します。これは表示用です。</br>
        x-successで、コールバックするアプリのURLスキームを指定します。</br>
        
        <h3>開始(コールバック)</h3>
        <p class = "breakAll">
        taskuma://x-callback-url/start?x-source=XXXX&amp;x-success=XXXX</p>
        x-source, x-successは追加(コールバック)と同様です。</br>
        それ以降のオプションは、開始(コールバック無し)と同様です。</br>
        
        <h3>終了/中断(コールバック)</h3>
        taskuma://x-callback-url/end?x-source=XXXX&amp;x-success=XXXX</p>
        x-source, x-successは追加(コールバック)と同様です。</br>
        それ以降のオプションは、終了/中断(コールバック無し)と同様です。</br>
        
        <h3>Dropboxバックアップ画面への遷移(コールバック)</h3>
        <p class = "breakAll">
        taskuma://x-callback-url/backup?x-source=XXXX&amp;x-success=XXXX</p>
        x-source, x-successは追加(コールバック)と同様です。</br>
        
        <h2>★URLスキームサンプル</h2>
        <ul class="help breakAll">
        <li>終了開始</li>
        taskuma://start?end=yes</br>
        <li>中断開始</li>
        taskuma://start?suspend=yes</br>
        <li>終了新規開始</li>
        taskuma://start?new=yes&amp;end=yes</br>
        <li>新規追加開始</li>
        taskuma://start?new=yes&amp;taskname=xxx&amp;estimated=xxx&amp;project=xxx</br>
        <li>コールバック付きで開く</li>
        taskuma://x-callback-url/?x-success=xxx</br>
        <li>中断新規開始コールバック</li>
        taskuma://x-callback-url/start?x-success=xxx&amp;new=yes&amp;suspend=yes&amp;taskname=xxx&amp;estimated=xxx&amp;project=xxx</br>
        </ul>

<!--
        <ul class="help breakAll">
            <li>taskuma:// で起動</li>
            <li>taskuma://add?taskname=xxx&amp;estimated=xxx でタスク追加（taskname, estimatedは省略可）</li>
        </ul>
 -->
        
        <h2 id="notification">通知</h2>
        たすくまでは、開始時刻の設定されているタスクの開始時刻・実行中タスクの終了予定時刻・日次レポート作成時に通知を行います。</br>
        この通知は最大64件まで作成され、それを超えた場合には、古いものから順に破棄されます。そのため、1日のタスクで大量に開始時刻を設定した場合や、Futureに大量に開始時刻を設定したタスクをおいている場合、正しく通知が行われない可能性があります。</br>
        通知が正しく行われない場合には、開始時刻を設定するタスク数を減らし、通知を再作成してください。</br>
        </br>
        通知の再作成は、SettingタブのOther→Remake Notificationsから実行できます。</br>
        </br>
        タスクの開始時刻の通知は、開始時刻から1分おきに行われます。この通知は、次のいずれかの方法で止めることができます。
        <ul class="help">
            <li>タスクを開始する</li>
            <li>通知をタップしてたすくまを起動する</li>
            <li>開始時刻を変更する</li>
            <li>開始時刻を削除する</li>
            <li>タスクを削除する</li>
        </ul>
        開始時刻を変更/削除する場合には、タスク詳細から編集する以外に、メインリスト画面で対象のタスクを長押しして変更/削除(Clear)する方法があります。</br>
       
       <h2 id="section">セクション設定の変更</h2>
       セクションの構成を変更した場合、全てのタスク（含ログ）と全てのリピートタスクに変更が反映されます。</br>
       各タスク/リピートタスクは、元のセクションの開始時刻が含まれるセクションに変更されます。</br>
       例えば、「7〜9時、9〜11時、11〜13時...」というセクション構成を「7〜8時、8〜9時、9〜10時...」という風に変更した場合、「7〜9時」のセクションのタスクは「7〜8時」のセクションに、「9〜11時」のセクションのタスクは「9〜10時」のセクションに変更されることになります。</br>
       </br>
       この際、タスクの開始予定時刻の設定は考慮しませんので、例えば開始予定時刻が8:20で「7〜9時」のセクションが設定されているタスクも、「8〜9時」のセクションではなく、「7〜8時」のセクションに変更されます。</br>
       </br>
       セクション構成を変更する際には、これらのことにご留意ください。</br>
       
       
       </br>
       <a href="top.html">→Help Topへ</a> <a href="/">→Taskuma Topへ</a>
    </body>
</html>
